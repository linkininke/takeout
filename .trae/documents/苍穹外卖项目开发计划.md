# 苍穹外卖项目开发计划

## 项目概述

开发一个类似苍穹外卖的餐饮外卖平台，包含Web管理端和微信小程序客户端，实现从商家管理到用户点餐的全流程服务。

## 技术栈选择

### 后端

* **框架**: Spring Boot 3.x

* **ORM**: MyBatis Plus

* **数据库**: MySQL 8.x

* **缓存**: Redis

* **文件存储**: MinIO

* **认证**: JWT

* **API文档**: Swagger/OpenAPI

### 管理端前端

* **框架**: Vue 3

* **UI组件库**: Element Plus

* **构建工具**: Vite

* **状态管理**: Pinia

* **路由**: Vue Router

### 用户端

* **框架**: 微信小程序原生开发

* **UI组件库**: WeUI 或 Vant Weapp

## 功能模块划分

### 1. 管理端功能

#### 系统管理

* 用户管理（管理员、商家账号）

* 角色管理

* 权限管理

* 数据字典管理

#### 商家管理

* 店铺信息管理

* 菜品分类管理

* 菜品管理（CRUD、图片上传、规格设置）

* 套餐管理（组合菜品、价格设置）

* 库存管理

#### 订单管理

* 订单列表与详情

* 订单状态管理（接单、拒单、完成）

* 退款处理

* 订单统计

#### 营销管理

* 优惠券管理

* 满减活动设置

* 会员等级设置

#### 数据统计

* 销售数据统计

* 订单量统计

* 用户增长统计

* 菜品销量排行

### 2. 微信小程序端功能

#### 用户管理

* 微信授权登录

* 个人信息管理

* 地址管理

#### 点餐功能

* 店铺列表与搜索

* 菜品浏览与分类筛选

* 购物车管理

* 订单提交

#### 订单管理

* 订单列表与详情

* 订单支付（微信支付）

* 订单评价

* 退款申请

#### 其他功能

* 优惠券领取与使用

* 积分商城

* 消息通知

## 开发流程

### 1. 环境搭建

* 搭建后端开发环境（JDK 17、Maven、MySQL、Redis、MinIO）

* 搭建管理端前端开发环境（Node.js、Vue CLI）

* 配置微信小程序开发工具

### 2. 数据库设计

* 设计用户表、角色表、权限表

* 设计店铺表、菜品表、分类表、套餐表

* 设计订单表、订单明细表、支付表

* 设计优惠券表、活动表

### 3. 后端API开发

* 搭建Spring Boot项目骨架

* 实现基础认证授权功能

* 开发各模块API接口

* 编写单元测试

* 配置Swagger文档

### 4. 管理端前端开发

* 搭建Vue 3项目

* 实现登录与权限控制

* 开发各功能模块页面

* 集成Element Plus组件

* 实现数据可视化统计

### 5. 微信小程序开发

* 初始化小程序项目

* 实现微信授权登录

* 开发点餐流程页面

* 集成微信支付API

* 实现消息推送功能

### 6. 测试与部署

* 单元测试

* 接口测试

* 功能测试

* 性能测试

* 部署到生产环境

## 开发规范

### 代码规范

* 后端：遵循Java开发规范，使用Lombok简化代码

* 前端：遵循Vue 3开发规范，使用TypeScript

* 数据库：遵循数据库设计规范，添加适当索引

### 安全规范

* 接口认证：使用JWT token

* 密码加密：使用BCrypt加密

* 接口权限：细粒度权限控制

* 数据校验：前后端双重校验

### 性能优化

* 数据库查询优化

* Redis缓存热点数据

* 图片懒加载

* 接口响应压缩

## 项目结构

### 后端项目结构

```
src/
├── main/
│   ├── java/
│   │   └── com/
│   │       └──苍穹外卖/
│   │           ├── config/          # 配置类
│   │           ├── controller/       # 控制器
│   │           ├── dto/              # 数据传输对象
│   │           ├── entity/           # 实体类
│   │           ├── exception/        # 异常处理
│   │           ├── mapper/           # Mapper接口
│   │           ├── service/          # 服务层
│   │           ├── utils/            # 工具类
│   │           └── Application.java  # 启动类
│   └── resources/
│       ├── mapper/                   # MyBatis映射文件
│       ├── application.yml           # 配置文件
│       └── application-dev.yml       # 开发环境配置
└── test/                             # 测试类
```

### 管理端前端项目结构

```
src/
├── assets/           # 静态资源
├── components/       # 公共组件
├── views/            # 页面组件
├── router/           # 路由配置
├── store/            # 状态管理
├── utils/            # 工具类
├── api/              # API请求
├── App.vue           # 根组件
└── main.ts           # 入口文件
```

### 微信小程序项目结构

```
├── pages/            # 页面
├── components/       # 组件
├── utils/            # 工具类
├── services/         # API服务
├── images/           # 图片资源
├── app.js            # 小程序入口
├── app.json          # 全局配置
└── app.wxss          # 全局样式
```

## 关键技术点

1. **微信授权登录**：实现微信小程序端的授权登录，获取用户信息
2. **微信支付集成**：调用微信支付API，实现订单支付功能
3. **实时消息推送**：使用WebSocket或微信模板消息，实现订单状态实时通知
4. **图片上传与处理**：使用MinIO存储菜品图片，实现图片的上传、压缩与预览
5. **数据统计与可视化**：使用ECharts实现销售数据、订单数据的可视化展示
6. **分布式缓存**：使用Redis缓存热点数据，提高系统性能
7. **权限管理**：实现基于角色的权限控制，细粒度控制用户操作权限

## 后续迭代计划

1. 接入第三方配送平台
2. 实现会员积分系统
3. 开发商家移动端APP
4. 接入更多支付方式
5. 实现智能推荐功能
6. 开发数据分析报表

## 注意事项

1. 严格遵循微信小程序开发规范
2. 注意接口安全性，防止SQL注入、XSS攻击等
3. 优化用户体验，减少页面加载时间
4. 确保系统高可用性，处理好异常情况
5. 定期备份数据库，防止数据丢失

